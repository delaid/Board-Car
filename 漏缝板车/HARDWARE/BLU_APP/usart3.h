#ifndef __USART3_H
#define __USART3_H
#include "sys.h"
#include <stdarg.h>
#include <string.h>

#define USART3_MAX_SEND_LEN		20 					//最大发送缓存字节数
#define USART3_MAX_RECV_LEN		26  				//最大接收缓存字节数
//extern volatile  u8  USART3_RX_BUF[USART3_MAX_RECV_LEN]; 		//接收缓冲,最大USART_REC_LEN个字节.末字节为换行符 
extern u16 USART3_RX_STA;         					//接收状态标记
extern bool USART3_Time_falg;
extern uint32_t laster_forword;
extern void laster_forward_control_set(void);

/*********************************************************************************************************
** Function name:       usart3_init
** Descriptions:        目标板（STM32F103ZET6）初始化USART3
** input parameters:    bound:串口波特率
** output parameters:   无
** Returned value:      无
*********************************************************************************************************/
void usart3_init(u32 bound);
/*********************************************************************************************************
** Function name:       u3_printf
** Descriptions:        USART3的输出格式变成printf输出格式，并确保一次发送数据不超过USART_MAX_SEND_LEN字节
** input parameters:    fmt：字符串指针
** output parameters:   无
** Returned value:      无
*********************************************************************************************************/
void u3_printf(char* fmt,...);
/*********************************************************************************************************
** Function name:       crc16_build
** Descriptions:        数据crc校验码生成
** input parameters:    data_ptr：需要校验的数据数组的首地址
						data_length: 需要校验的数据长度
** output parameters:   无
** Returned value:      CRC校验码
*********************************************************************************************************/
u16 crc16_build(u8 *data_ptr, u8 data_length);
#endif
